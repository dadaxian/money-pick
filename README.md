# money-pick
一个天马行空的纸币自动拼接图像处理系统
在12/20/2021，偶然间看到一个[新闻](https://mp.weixin.qq.com/s/PhzhXA-A1MkGmURR2UBAEQ)，大概就是家里的一个智力障碍的小孩子把家里的6000元纸币撕成了三百多张碎片，父母崩溃，银行工作人员花费两天时间才将其拼好，可能这之中的代价已经不止6000元本身了，但这却是那一家子的救命钱，这里点赞我们的银行工作人员。  
但是作为一名CVer，当然要应用所学知识方便大众，这个问题的解决方案最重要的就是两点：  
1. 匹配过程是个极为繁琐的耗时任务，这个匹配的过程第一时间映入脑海的这是一个有限集合的高时间复杂度的过程（O(n2)）；  
2. 最核心的就是匹配算法的实现，如何做出一个合适的边缘匹配，能够做到判断两个碎片是否能在一起。  
那么，我们何不用我们的计算机来实现他呢，毕竟计算机是做这种事情的一把好手！  
方案的预先构思：
1. 将所有的碎片整理通过图像系统平整干净的录入系统，可以通过图片定位手段，为图片生成定位信息，方便后续结果出来的操作。
2. 通过一个碎片定位，将每个碎片扩充为一个真正的全局纸币，确定正反面并全部改为正面 ，并定义出每张纸币的完整度百分比。
3. 对每个虚拟全局纸币1。
4.   while(对比次数小于碎片数)。
5.     选出与其(碎片部位不重合的 && 完整度和低于100%）的虚拟全局纸币2进行融合匹配
6.       若可以匹配（即边缘临近）&& 边缘匹配度高于阈值，匹配成功，将2加入到1中。
7. 这样完成全局的碎片合成。
8. 最后把源于同一张钞票的碎片显示出来。
